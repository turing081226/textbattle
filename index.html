<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TextBattle</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1020;          /* page bg */
      --card:#0f172a99;      /* glass card */
      --border:#ffffff1a;    /* subtle borders */
      --txt:#e5e7eb;         /* primary text */
      --muted:#94a3b8;       /* secondary text */
      --accent:#7c3aed;      /* main accent */
      --accent-2:#22d3ee;    /* secondary accent */
      --good:#22c55e; --warn:#f59e0b; --bad:#ef4444;
      --radius:18px;         /* uniform rounding */
      --shadow-sm:0 1px 2px rgba(0,0,0,.25);
      --shadow-md:0 8px 24px rgba(0,0,0,.35);
      --glass-blur:12px;
      --focus:0 0 0 3px color-mix(in oklab, var(--accent) 60%, transparent);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Apple SD Gothic Neo,Apple Color Emoji,EmojiOne Color,Segoe UI Emoji,sans-serif; color:var(--txt);
      background: radial-gradient(1200px 1200px at 10% -10%, #1b2659 0, transparent 50%),
                  radial-gradient(1200px 1000px at 110% 0%, #0a5a7a 0, transparent 50%),
                  linear-gradient(180deg, #070b18 0%, #0b1020 60%, #0b1020 100%);
      background-attachment: fixed;
    }
    .wrap{max-width:1100px;margin:0 auto;padding:32px 14px 48px}
    header{
      display:flex;align-items:center;gap:14px;justify-content:space-between;margin-bottom:22px
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:40px;height:40px;border-radius:12px;display:grid;place-items:center;
      background:linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow:var(--shadow-sm);
    }
    .logo svg{width:22px;height:22px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.25))}
    .title{font-weight:800;letter-spacing:.2px}
    .badge{font-size:12px;padding:4px 8px;border-radius:999px;background:#ffffff1a;color:#fff;border:1px solid var(--border)}

    .grid{display:grid;gap:16px;grid-template-columns: repeat(12, minmax(0,1fr))}
    .col-7{grid-column: span 7}
    .col-5{grid-column: span 5}
    .col-12{grid-column: span 12}
    @media (max-width: 920px){.col-7,.col-5{grid-column:span 12}}

    .card{
      background: color-mix(in oklab, var(--card) 100%, transparent);
      backdrop-filter: blur(var(--glass-blur));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow-md);
      padding:18px;
    }
    .card h2{margin:2px 0 10px;font-size:18px;font-weight:700}
    .card p.helper{margin:0 0 14px;color:var(--muted);font-size:13px}

    .row{display:grid;gap:12px;grid-template-columns:repeat(12, minmax(0,1fr));align-items:end}
    .row > .field{grid-column: span 12}
    .row > .field.half{grid-column: span 6}
    @media (max-width:720px){.row > .field.half{grid-column:span 12}}

    label{display:block;margin:3px 0 6px;font-size:12px;color:var(--muted)}
    input,select,button,textarea{
      font:inherit;color:inherit
    }
    input[type="text"],input[type="number"],input[type="password"],select,textarea{
      width:100%;padding:12px 12px;border-radius:12px;border:1px solid var(--border);background:#0b132b;outline:none;
      transition:.2s box-shadow,.2s border-color,.2s background;
    }
    input::placeholder{color:#8ea0b3}
    input:focus,select:focus,textarea:focus{box-shadow:var(--focus);border-color:color-mix(in oklab, var(--accent) 40%, var(--border))}

    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;user-select:none;
      padding:11px 14px;border-radius:12px;border:1px solid var(--border);
      background:linear-gradient(180deg, color-mix(in oklab, var(--accent) 28%, #151b30 72%), #12172c);
      font-weight:700; letter-spacing:.2px;
      transition:.15s transform, .2s filter, .2s background;
    }
    .btn:hover{filter:brightness(1.08)}
    .btn:active{transform:translateY(1px)}
    .btn.secondary{background:#0f172a}
    .btn.ghost{background:transparent}

    .section-title{display:flex;align-items:center;gap:10px;margin:4px 0 10px}
    .section-title span.dot{width:8px;height:8px;border-radius:50%;background:var(--accent)}

    .log{height:240px;background:#090f20;border:1px solid var(--border);border-radius:12px;padding:12px;overflow:auto;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-size:13px;line-height:1.4}
    .muted{color:var(--muted)}

    table{width:100%;border-collapse:collapse;border-radius:12px;overflow:hidden}
    thead th{font-size:12px;text-align:left;color:var(--muted);font-weight:600;background:#0d142b;border-bottom:1px solid var(--border);padding:10px 12px}
    tbody td{padding:12px;border-bottom:1px dashed var(--border)}
    tbody tr:last-child td{border-bottom:none}

    footer{margin-top:22px;color:var(--muted);font-size:12px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .links{display:flex;gap:12px;flex-wrap:wrap}

    /* subtle enter animation */
    .fade-in{animation:fade .4s ease-out both}
    @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

    .pill{border:1px solid var(--border);background:#0d142b;padding:6px 10px;border-radius:999px;font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <header class="fade-in">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <!-- sword icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M14 6l7-3-3 7-9 9-4 1 1-4 9-9z"/>
            <path d="M10 10l4 4"/>
          </svg>
        </div>
        <div>
          <div class="title">TextBattle</div>
          <div class="muted" style="font-size:12px">텍스트 전투를 더 세련되게 ⚔️</div>
        </div>
      </div>
      <span class="badge">beta</span>
    </header>

    <!-- MAIN GRID -->
    <div class="grid fade-in" style="animation-delay:.06s">
      <!-- LEFT: create / join -->
      <section class="card col-7" id="leftPanel">
        <h2>방 만들기</h2>
        <p class="helper">닉네임과 캐릭터를 고르고 비밀키(옵션)를 설정해 새 전투를 시작.</p>
        <form id="createForm" class="row" autocomplete="off">
          <div class="field half">
            <label for="nickname">닉네임</label>
            <input id="nickname" name="nickname" type="text" placeholder="예) PinkNeon" required />
          </div>
          <div class="field half">
            <label for="character">캐릭터</label>
            <select id="character" name="character" aria-label="캐릭터 선택">
              <option value="warrior">전사</option>
              <option value="mage">마법사</option>
              <option value="rogue">도적</option>
              <option value="paladin">성기사</option>
            </select>
          </div>
          <div class="field half">
            <label for="roomName">방 이름</label>
            <input id="roomName" name="roomName" type="text" placeholder="예) Friday Night" />
          </div>
          <div class="field half">
            <label for="secret">비밀키 (옵션)</label>
            <input id="secret" name="secret" type="password" placeholder="방 잠금용" />
          </div>
          <div class="field" style="display:flex; gap:10px;flex-wrap:wrap">
            <button class="btn" id="btnCreate" type="submit">전투 시작</button>
            <button class="btn secondary" id="btnReset" type="button">초기화</button>
          </div>
        </form>

        <hr style="border:none;border-top:1px solid var(--border);margin:18px 0"/>

        <h2 style="margin-top:2px">참가하기</h2>
        <p class="helper">방 코드로 입장합니다. 비밀키가 있다면 같이 입력해 주세요.</p>
        <form id="joinForm" class="row" autocomplete="off">
          <div class="field half">
            <label for="joinCode">방 코드</label>
            <input id="joinCode" name="joinCode" type="text" placeholder="예) TB-8A2K" required />
          </div>
          <div class="field half">
            <label for="joinName">닉네임</label>
            <input id="joinName" name="joinName" type="text" placeholder="Your name" required />
          </div>
          <div class="field half">
            <label for="joinSecret">비밀키 (있다면)</label>
            <input id="joinSecret" name="joinSecret" type="password" />
          </div>
          <div class="field">
            <button class="btn" id="btnJoin" type="submit">입장</button>
          </div>
        </form>
      </section>

      <!-- RIGHT: status / log -->
      <aside class="col-5" id="rightPanel">
        <section class="card" style="margin-bottom:16px">
          <div class="section-title">
            <span class="dot" aria-hidden="true"></span>
            <h2 style="margin:0">현재 전투 상태</h2>
            <span class="pill" id="roomCodePill" title="방 코드">대기 중</span>
          </div>
          <div class="muted" id="statusText">방을 생성하거나 입장하면 상태가 표시됩니다.</div>
        </section>

        <section class="card">
          <div class="section-title">
            <span class="dot" style="background:var(--accent-2)" aria-hidden="true"></span>
            <h2 style="margin:0">전투 로그</h2>
          </div>
          <div id="log" class="log" aria-live="polite"></div>
        </section>
      </aside>

      <!-- FULL-WIDTH: leaderboard -->
      <section class="card col-12" id="board">
        <div class="section-title">
          <span class="dot" style="background:var(--good)"></span>
          <h2 style="margin:0">리더보드</h2>
        </div>
        <div class="muted" style="margin-bottom:10px">최근 경기 순위 (예시 UI, 데이터 연결 시 자동 표출)</div>
        <div style="overflow:auto">
          <table aria-describedby="리더보드표">
            <thead>
              <tr>
                <th style="width:64px">#</th>
                <th>플레이어</th>
                <th>캐릭터</th>
                <th>승</th>
                <th>패</th>
                <th>ELO</th>
              </tr>
            </thead>
            <tbody id="leaderbody">
              <tr><td>1</td><td>DemoOne</td><td>전사</td><td>5</td><td>1</td><td>1234</td></tr>
              <tr><td>2</td><td>DemoTwo</td><td>마법사</td><td>4</td><td>2</td><td>1196</td></tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>

    <footer class="fade-in" style="animation-delay:.1s">
      <div class="links">
        <span class="muted">© 2025 TextBattle</span>
        <a class="pill" href="/" aria-label="홈으로">홈</a>
        <a class="pill" href="#board">리더보드</a>
        <a class="pill" href="#log">로그</a>
      </div>
      <div class="muted">UI만 개선된 정적 페이지 · 기존 API 스크립트와 쉽게 통합</div>
    </footer>
  </div>

  <!--
    ⚠️ 통합 방법 (기존 기능 유지)
    1) 아래의 "INTEGRATION HOOKS" 블록 안에, 현재 index.html에 있던 <script> 전체를 그대로 붙여 넣으세요.
    2) 폼/요소 ID는 다음과 같습니다. (가능하면 기존 ID를 유지)
       createForm, nickname, character, roomName, secret, btnCreate, btnReset
       joinForm, joinCode, joinName, joinSecret, btnJoin
       roomCodePill, statusText, log, leaderbody
    3) API 요청 성공 시 아래 헬퍼를 활용하면 UI가 자동으로 예쁘게 갱신됩니다.
  -->
  <script>
    // ========= UI HELPERS =========
    const $ = (sel) => document.querySelector(sel);
    const logBox = $('#log');
    function pushLog(message, level="info"){
      const time = new Date().toLocaleTimeString();
      const color = level === 'error' ? 'var(--bad)' : level === 'warn' ? 'var(--warn)' : 'var(--txt)';
      const line = document.createElement('div');
      line.innerHTML = `<span class="muted">[${time}]</span> <span style="color:${color}">${message}</span>`;
      logBox?.append(line); logBox?.scrollTo({top: logBox.scrollHeight, behavior: 'smooth'});
    }
    function setStatus(text, code=null){
      $('#statusText').textContent = text || '';
      const pill = $('#roomCodePill');
      pill.textContent = code || (text ? '진행 중' : '대기 중');
    }

    // Example: Prevent default submit to avoid accidental navigation
    $('#createForm')?.addEventListener('submit', (e)=>{ e.preventDefault(); pushLog('방 생성 시도를 보냈습니다. (API 연결 필요)'); });
    $('#joinForm')?.addEventListener('submit', (e)=>{ e.preventDefault(); pushLog('입장 시도를 보냈습니다. (API 연결 필요)'); });

    $('#btnReset')?.addEventListener('click', ()=>{
      $('#createForm')?.reset(); setStatus('초기화되었습니다.');
    });
  </script>

  <!-- ====== INTEGRATION HOOKS (PASTE YOUR EXISTING SCRIPT BELOW) ======
  <script>
    // 여기에 기존 index.html의 <script> 로직 전체를 붙여넣으세요.
    // 예: fetch('/api/create-room', { method: 'POST', body: ... }) ...
    // 성공 시 setStatus('방이 생성되었습니다', generatedCode); pushLog('전투가 시작되었습니다!');
    // 실패 시 pushLog('에러: ...', 'error');
  </script>
  ====== END INTEGRATION HOOKS ====== -->
</body>
</html>
